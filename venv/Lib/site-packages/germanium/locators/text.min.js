return function(){function a(a){return a.innerText||a.textContent||""}function b(a){return a.replace(/^\s+|\s+$/gm,"")}function c(a){return a}function d(a,b){return a.indexOf(b)>=0}function e(a,b){return a==b}function f(a){var b=a.length-1;a:for(;b>0;){for(var c=b-1;c>=0;){if(g(a[b],a[c])){a.splice(b,1),b--;continue a}g(a[c],a[b])&&(a.splice(c,1),b--),c--}b--}return a}function g(a,b){for(var c=b;c&&c.parentNode!=c;)if(c=c.parentNode,a===c)return!0;return!1}var h=arguments[0]||document.body,i=arguments[1],j=arguments[2]?e:d,k=arguments[3]?b:c;if(!d(a(h),i))return null;for(var l=[h],m=[];l.length;)for(var n=l.splice(0,1)[0],o=0;o<n.children.length;o++){var p=k(a(n.children[o]));j(p,i)&&m.push(n.children[o]),d(p,i)&&l.push(n.children[o])}return f(m)}.apply(this,arguments);