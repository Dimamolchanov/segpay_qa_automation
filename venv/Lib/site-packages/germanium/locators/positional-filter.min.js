return function(){function a(a){for(n=o.shift();n--;)a.push(o.shift())}function b(a){if(!a)throw new Error("no element in left");return Math.round(a.getBoundingClientRect().left)-Math.round(document.body?document.body.getBoundingClientRect().left:0)}function c(a){if(!a)throw new Error("no element in top");return Math.round(a.getBoundingClientRect().top)-Math.round(document.body?document.body.getBoundingClientRect().top:0)}function d(a){if(!a)throw new Error("no element in right");return Math.round(a.getBoundingClientRect().right)-Math.round(document.body?document.body.getBoundingClientRect().left:0)-1}function e(a){if(!a)throw new Error("no element in bottom");return Math.round(a.getBoundingClientRect().bottom)-Math.round(document.body?document.body.getBoundingClientRect().top:0)-1}function f(a,c){var e=b(c)<=d(a)&&b(a)<=d(c);return e}function g(a,b){var d=c(b)<=e(a)&&c(a)<=e(b);return d}var h,i,j,k,l,m,n,o,p=[],q=[],r=[],s=[],t=[];for(o=[],l=0;l<arguments.length;l++)o.push(arguments[l]);if(a(p),a(r),a(q),a(s),a(t),p.length)a:for(l=t.length-1;l>=0;l--){for(m=0;m<p.length;m++)if(e(t[l])<c(p[m])&&f(t[l],p[m]))continue a;t.splice(l,1)}if(p.length&&(h=c(p[0]),j=b(p[0]),t.sort(function(a,c){var d=f(p[0],a),g=f(p[0],c);return d&&g?Math.abs(h-e(a))-Math.abs(h-e(c)):d&&!g?-1:!d&&g?1:Math.pow(h-e(a),2)-Math.pow(h-e(c),2)+Math.abs(j-b(a))-Math.abs(j-b(c))})),q.length)a:for(l=t.length-1;l>=0;l--){for(m=0;m<q.length;m++)if(c(t[l])>e(q[m])&&f(t[l],q[m]))continue a;t.splice(l,1)}if(q.length&&(i=e(q[0]),j=b(q[0]),t.sort(function(a,d){var e=f(q[0],a),g=f(q[0],d);return e&&g?Math.abs(i-c(a))-Math.abs(i-c(d)):e&&!g?-1:!e&&g?1:Math.pow(i-c(a),2)-Math.pow(i-c(d),2)+Math.abs(j-b(a))-Math.abs(j-b(d))})),r.length)a:for(l=t.length-1;l>=0;l--){for(m=0;m<r.length;m++)if(b(t[l])>d(r[m])&&g(t[l],r[m]))continue a;t.splice(l,1)}if(r.length&&(h=c(r[0]),k=d(r[0]),t.sort(function(a,d){var e=g(r[0],a),f=g(r[0],d);return e&&f?Math.abs(k-b(a))-Math.abs(k-b(d)):e&&!f?-1:!e&&f?1:Math.pow(k-b(a),2)-Math.pow(k-b(d),2)+Math.abs(h-c(a))-Math.abs(h-c(d))})),s.length)a:for(l=t.length-1;l>=0;l--){for(m=0;m<s.length;m++)if(d(t[l])<b(s[m])&&g(t[l],s[m]))continue a;t.splice(l,1)}return s.length&&(h=c(s[0]),j=b(s[0]),t.sort(function(a,b){var e=g(s[0],a),f=g(s[0],b);return e&&f?Math.abs(j-d(a))-Math.abs(j-d(b)):e&&!f?-1:!e&&f?1:Math.pow(j-d(a),2)-Math.pow(j-d(b),2)+Math.abs(h-c(a))-Math.abs(h-c(b))})),t}.apply(this,arguments);